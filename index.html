<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Electricomics Editor</title>
  <link rel="stylesheet" href="js/lib/jquery-ui/jquery-ui.min.css">
  <link rel="stylesheet" href="js/lib/jQuery-contextMenu/jquery.contextMenu.css">
  <link rel="stylesheet" href="fonts/komika/stylesheet.css">
  <link rel="stylesheet" href="fonts/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <header id="comic-header" class="header">
    <h1>Electricomics Layout Tool</h1>
  </header>

  <nav class="pages-nav">
    <!-- <span class="pages-nav-add" data-page="0">Add</span> -->
    <ul id="pages-nav" class="page-nav-wrapper"></ul>
    <span class="pages-nav-add" data-page="-1"><span class="fa fa-file fa-2x addCenter"></span></span>
    
    <script type="text/template" id="page-template">
    <li class="page-nav js-page-nav">
      <input type="text" class="page-name">
      <span class="page-nav-add"><span class="fa fa-plus-circle"></span></span>
      <span class="page-nav-remove"><span class="fa fa-trash"></span></span>
      <span class="page-nav-handle"><span class="fa fa-arrows-h fa-lg"></span></span>
    </li>
    </script>
  </nav>

  <div class="panels">
    <details open>
      <summary>Settings</summary>
      <div>
        <label>Comic Name</label>
        <input type="text" id="comic-name">
      </div>
      <div>
        <label>Retina 2x <input type="checkbox" id="comic-pxratio-2" value="2"></label>
      </div>
      <div>
        <label>width <input type="number" id="comic-width"></label>
      </div>
      <div>
        <label>height <input type="number" id="comic-height"></label>
      </div>
      <div>
        <input type="button" class="comic-button" id="comic-export" value="Save">
        <input type="button" class="comic-button" id="comic-clear" value="Clear">
        <input type="button" class="comic-button" id="comic-export-json" value="Export">
        <label for="comic-import-json" class="comic-button">Import JSON</label><input type="file" id="comic-import-json" style="display:none;" value="Import JSON">
        <input type="button" class="comic-button" id="comic-preview" value="Preview">
      </div>
    </details>

    <label for="panel-add" class="comic-button">Add Image</label><input type="file" id="panel-add" style="display:none;" value="Add Image" multiple>
    <ul id="panels-nav" class="panels-nav"></ul>
    
    <script type="text/template" id="panel-template">
      <li class="panel">
        <span class="panel-nav-handle"><span class="fa fa-arrows-v "></span></span>
        <div class="panel-img-wrapper">
          <img src="" class="panel-img">
        </div>
        <input type="text" class="panel-page">
        <input type="text" class="panel-index">
        <input type="text" readonly class="panel-id">
        <div>
          <label>width <input type="number" class="panel-w"></label>
        </div>
        <div>
          <label>height <input type="number" class="panel-h"></label>
        </div>
        <div>
          <label>left <input type="number" class="panel-x"></label>
        </div>
        <div>
          <label>top <input type="number" class="panel-y"></label>
        </div>
        <div>
          <label>z-index <input type="number" class="panel-z"></label>
        </div>
        <span class="panel-nav-remove"><span class="fa fa-trash"></span></span>

      </li>
    </script>
  </div>

  <div class="artboard-wrapper">
    <div id="artboard" class="artboard"></div>
  </div>

  <div id="preview-overlay" class="overlay">
    <a href="#" id="preview-close" class="overlay-close" title="Close preview">X</a>
    <iframe id="preview"></iframe>
  </div>

  <div id="textarea-output-overlay" class="overlay">
    <a href="#" id="textarea-output-close" class="overlay-close" title="Close window">X</a>
    <textarea id="textarea-output" cols="30" rows="10"></textarea>
  </div>

  <div id="textarea-input-overlay" class="overlay">
    <a href="#" id="textarea-input-close" class="overlay-close" title="Close window">X</a>
    <textarea id="textarea-input" cols="30" rows="10"></textarea>
    <input type="button" id="textarea-input-button" class="comic-button" value="Import">
  </div>

<script type="text/x-handlebars-template" id="export-template"><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{title}}</title>
  <style>
html {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
}
body {
  margin: 0;
  text-align: center;
}
section,
nav {
  display: block;
}
section {
  border: 1px solid #000;
  overflow: hidden;
  position: relative;
  height: {{screenH}}px;
  margin: 0 auto;
  width: {{screenW}}px;
}
img {
  border: 0 none;
  position: absolute;
}
  </style>
</head>
<body>
<h1>{{title}}</h1>
{{#pages}}
{{#if show}}
<section id="{{name}}" class="page{{@index}}">
  {{#panels}}
  {{#if id}}
  <img src="{{{../src}}}" id="{{../id}}" class="panel{{@index}}" style="width:{{../w}}px; height:{{../h}}px; left:{{../x}}px; top:{{../y}}px; z-index:{{../z}};">
  {{/if}}
  {{/panels}}
</section>
{{/if}}
{{/pages}}
</body>
</html></script>
  
  <script src="js/lib/jquery.min.js"></script>
  <script src="js/lib/jquery-ui/jquery-ui.js"></script>
  <script src="js/lib/jQuery-contextMenu/jquery.contextMenu.js"></script>
  <script src="js/lib/handlebars-v2.0.0.js"></script>
  <script src="js/lib/FileSaver.min.js"></script>
  <script src="js/lib/mouse.js"></script>
  <script src="js/eclayout.js"></script>
  <script src="js/interface.js"></script>
</body>
</html>